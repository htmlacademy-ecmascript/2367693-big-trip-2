(()=>{"use strict";const e="beforeend";function t(e){const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}function n(t,n,i=e){n.insertAdjacentElement(i,t.getElement())}class i{getTemplate(){return'\n    <form class="trip-filters" action="#" method="get">\n      <div class="trip-filters__filter">\n        <input id="filter-everything" class="trip-filters__filter-input visually-hidden" type="radio" name="trip-filter" value="everything" checked>\n        <label class="trip-filters__filter-label" for="filter-everything">Everything</label>\n      </div>\n      <div class="trip-filters__filter">\n        <input id="filter-future" class="trip-filters__filter-input visually-hidden" type="radio" name="trip-filter" value="future">\n        <label class="trip-filters__filter-label" for="filter-future">Future</label>\n      </div>\n      <div class="trip-filters__filter">\n        <input id="filter-present" class="trip-filters__filter-input visually-hidden" type="radio" name="trip-filter" value="present">\n        <label class="trip-filters__filter-label" for="filter-present">Present</label>\n      </div>\n      <div class="trip-filters__filter">\n        <input id="filter-past" class="trip-filters__filter-input visually-hidden" type="radio" name="trip-filter" value="past">\n        <label class="trip-filters__filter-label" for="filter-past">Past</label>\n      </div>\n      <button class="visually-hidden" type="submit">Accept filter</button>\n    </form>\n  '}getElement(){return this.element||(this.element=t(this.getTemplate())),this.element}removeElement(){this.element=null}}class s{getTemplate(){return'\n    <form class="trip-events__trip-sort trip-sort" action="#" method="get">\n      <div class="trip-sort__item trip-sort__item--day">\n        <input id="sort-day" class="trip-sort__input visually-hidden" type="radio" name="trip-sort" value="sort-day" checked>\n        <label class="trip-sort__btn" for="sort-day">Day</label>\n      </div>\n      <div class="trip-sort__item trip-sort__item--event">\n        <input id="sort-event" class="trip-sort__input visually-hidden" type="radio" name="trip-sort" value="sort-event" disabled>\n        <label class="trip-sort__btn" for="sort-event">Event</label>\n      </div>\n      <div class="trip-sort__item trip-sort__item--time">\n        <input id="sort-time" class="trip-sort__input visually-hidden" type="radio" name="trip-sort" value="sort-time">\n        <label class="trip-sort__btn" for="sort-time">Time</label>\n      </div>\n      <div class="trip-sort__item trip-sort__item--price">\n        <input id="sort-price" class="trip-sort__input visually-hidden" type="radio" name="trip-sort" value="sort-price">\n        <label class="trip-sort__btn" for="sort-price">Price</label>\n      </div>\n      <div class="trip-sort__item trip-sort__item--offer">\n        <input id="sort-offer" class="trip-sort__input visually-hidden" type="radio" name="trip-sort" value="sort-offer" disabled>\n        <label class="trip-sort__btn" for="sort-offer">Offers</label>\n      </div>\n    </form>\n  '}getElement(){return this.element||(this.element=t(this.getTemplate())),this.element}removeElement(){this.element=null}}const r=["taxi","bus","train","ship","drive","flight","check-in","sightseeing","restaurant"],l=[{id:"1",name:"Amsterdam",description:"A beautiful city with canals.",pictures:["https://loremflickr.com/248/152?random=1"]},{id:"2",name:"Geneva",description:"The city of diplomacy.",pictures:["https://loremflickr.com/248/152?random=2"]},{id:"3",name:"Chamonix",description:"A paradise for mountaineers.",pictures:["https://loremflickr.com/248/152?random=3"]}],a=[{id:"1",eventType:"taxi",title:"Order Uber",price:20},{id:"2",eventType:"flight",title:"Upgrade to comfort class",price:50},{id:"3",eventType:"train",title:"Add meal service",price:15}],o="2025-03";class p{constructor({mode:e="create"}={}){this.mode=e}getTemplate(){return function({mode:e}){const t="edit"===e;return`\n    <form class="event event--edit" action="#" method="post">\n      <header class="event__header">\n        <div class="event__type-wrapper">\n          <label class="event__type event__type-btn" for="event-type-toggle-1">\n            <span class="visually-hidden">Choose event type</span>\n            <img class="event__type-icon" width="17" height="17" src="img/icons/flight.png" alt="Event type icon">\n          </label>\n          <input class="event__type-toggle visually-hidden" id="event-type-toggle-1" type="checkbox">\n        </div>\n\n        <div class="event__field-group event__field-group--destination">\n          <label class="event__label event__type-output" for="event-destination-1">\n            Flight\n          </label>\n          <input class="event__input event__input--destination" id="event-destination-1" type="text" name="event-destination" value="${t?"Geneva":""}" list="destination-list-1">\n        </div>\n\n        <div class="event__field-group event__field-group--time">\n          <input class="event__input event__input--time" type="text" name="event-start-time" value="${t?"19/03/19 00:00":""}">\n          &mdash;\n          <input class="event__input event__input--time" type="text" name="event-end-time" value="${t?"19/03/19 00:00":""}">\n        </div>\n\n        <button class="event__save-btn btn btn--blue" type="submit">Save</button>\n        <button class="event__reset-btn" type="reset">${t?"Delete":"Cancel"}</button>\n        ${t?'<button class="event__rollup-btn" type="button"><span class="visually-hidden">Open event</span></button>':""}\n      </header>\n    </form>\n  `}({mode:this.mode})}getElement(){return this.element||(this.element=t(this.getTemplate())),this.element}removeElement(){this.element=null}}class d{constructor(e){this.event=e}getTemplate(){return`\n    <li class="trip-events__item">\n      <div class="event">\n        <div class="event__type">\n          <img class="event__type-icon" width="42" height="42" src="img/icons/${(e=this.event).eventType}.png" alt="Event type icon">\n        </div>\n        <h3 class="event__title">${e.eventType} ${e.destination?e.destination.name:"Unknown"}</h3>\n\n        <div class="event__schedule">\n          <p class="event__time">\n            <time class="event__start-time" datetime="${e.startTime}">${e.startTime.replace("T"," ")}</time>\n            &mdash;\n            <time class="event__end-time" datetime="${e.endTime}">${e.endTime.replace("T"," ")}</time>\n          </p>\n        </div>\n\n        <p class="event__price">\n          â‚¬&nbsp;<span class="event__price-value">${e.price}</span>\n        </p>\n      </div>\n    </li>\n  `;var e}getElement(){return this.element||(this.element=t(this.getTemplate())),this.element}removeElement(){this.element=null}}const c=e=>e[Math.floor(Math.random()*e.length)],m=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,v=()=>{const e=c(l),t=c(r),n=`${o}-${m(10,20)}T${m(0,23)}:${m(0,59)}`,i=`${o}-${m(10,20)}T${m(0,23)}:${m(0,59)}`;return{id:crypto.randomUUID(),eventType:t,destinationId:e.id,startTime:n,endTime:i,price:m(10,500),offerIds:a.filter((e=>e.eventType===t&&Math.random()>.5)).map((e=>e.id))}},_=document.querySelector(".trip-events"),u=new class{constructor(){this.tripEvents=Array.from({length:5},v),this.destinations=l,this.offers=a}getTripEvents(){return this.tripEvents}getDestinations(){return this.destinations}getOffers(){return this.offers}},f=new class{constructor(e,t){this.container=e,this.tripEventModel=t}init(){const t=this.tripEventModel.getTripEvents(),r=this.tripEventModel.getDestinations();n(new i,this.container,e),n(new s,this.container,e);const l=document.createElement("ul");l.classList.add("trip-events__list"),this.container.appendChild(l),t.length>0&&n(new p({mode:"edit"}),l,"afterbegin"),t.forEach((t=>{const i=r.find((e=>e.id===t.destinationId));n(new d({...t,destination:i}),l,e)}))}}(_,u);f.init()})();
//# sourceMappingURL=bundle.2ac48c4f32dfaa456cd4.js.map